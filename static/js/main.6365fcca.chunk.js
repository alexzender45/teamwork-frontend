(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,a){},104:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),l=a(8),c=a(41),s=(a(101),a(17)),m=a(13),u=a(18),d=a(19),p=a(4),h=a(20),g=a(29),E=a.n(g),f=a(160),b=a(161),v=a(159),k=a(166),y=a(157),C=a(167),T=a(30),j=a.n(T),S=a(123),O=a(83),w=a(158),I=(a(62),a(104),function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",{className:"toolbar__logo",style:N},r.a.createElement("a",{href:"/"},"TEAM WORK")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/"},"Login"))))))}),N={fontSize:"auto"};function _(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var x=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).validateFirstName=function(){var e=a.state.first_name;""===e?a.setState({first_nameError:"First Name cannot be empty"}):""!==e&&a.setState({first_nameError:""})},a.validateLastName=function(){var e=a.state.last_name;""===e?a.setState({last_nameError:"Last Name cannot be empty"}):""!==e&&a.setState({last_nameError:""})},a.validateEmail=function(){var e=a.state.email;""===e?a.setState({emailError:"Email cannot be empty"}):""!==e&&a.setState({emailError:""})},a.validatePassword=function(){var e=a.state.password;""===e?a.setState({passwordError:"password cannot be empty"}):""!==e&&a.setState({passwordError:""})},a.validateGender=function(){var e=a.state.gender;""===e?a.setState({genderError:" Please input Gender"}):""!==e&&a.setState({genderError:""})},a.validateJobRole=function(){var e=a.state.job_role;""===e?a.setState({job_roleError:"Job Role cannot be empty"}):""!==e&&a.setState({job_roleError:""})},a.validateDepartment=function(){var e=a.state.department;""===e?a.setState({departmentError:"Department cannot be empty"}):""!==e&&a.setState({departmentError:""})},a.validateAddress=function(){var e=a.state.address;""===e?a.setState({addressError:"Address cannot be empty"}):""!==e&&a.setState({addressError:""})},a.handleSubmit=function(e){a.loggedIn();var t=new Headers({"Content-type":"application/json",token:a.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/auth/create_user",{headers:t,method:"POST",body:JSON.stringify({first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,password:a.state.password,gender:a.state.gender,job_role:a.state.job_role,department:a.state.department,address:a.state.address})}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(localStorage.setItem("token2",e.data.token),console.log(localStorage.getItem("token2")),a.props.history.push("/articles")):"error"===e.status&&(a.setState({serverError:e.error}),console.log(e.error))})),e.preventDefault(),a.formRef.reset()},a.state={first_name:"",last_name:"",email:"",password:"",gender:"",job_role:"",department:"",address:"",first_nameError:"",last_nameError:"",emailError:"",passwordError:"",genderError:"",job_roleError:"",departmentError:"",addressError:"",serverError:""},a.handleInput1=a.handleInput1.bind(Object(p.a)(a)),a.handleInput2=a.handleInput2.bind(Object(p.a)(a)),a.handleInput3=a.handleInput3.bind(Object(p.a)(a)),a.handleInput4=a.handleInput4.bind(Object(p.a)(a)),a.handleInput5=a.handleInput5.bind(Object(p.a)(a)),a.handleInput6=a.handleInput6.bind(Object(p.a)(a)),a.handleInput7=a.handleInput7.bind(Object(p.a)(a)),a.handleInput8=a.handleInput8.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.validateFirstName=a.validateFirstName.bind(Object(p.a)(a)),a.validateLastName=a.validateLastName.bind(Object(p.a)(a)),a.validateEmail=a.validateEmail.bind(Object(p.a)(a)),a.validatePassword=a.validatePassword.bind(Object(p.a)(a)),a.validateGender=a.validateGender.bind(Object(p.a)(a)),a.validateJobRole=a.validateJobRole.bind(Object(p.a)(a)),a.validateDepartment=a.validateDepartment.bind(Object(p.a)(a)),a.validateAddress=a.validateAddress.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.loggedIn=a.loggedIn.bind(Object(p.a)(a)),a.isTokenExpired=a.isTokenExpired.bind(Object(p.a)(a)),a.formRef=null,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleInput1",value:function(e){var t=this;this.setState({first_name:e.target.value},(function(){t.validateFirstName()}))}},{key:"handleInput2",value:function(e){var t=this;this.setState({last_name:e.target.value},(function(){t.validateLastName()}))}},{key:"handleInput3",value:function(e){var t=this;this.setState({email:e.target.value},(function(){t.validateEmail()}))}},{key:"handleInput4",value:function(e){var t=this;this.setState({password:e.target.value},(function(){t.validatePassword()}))}},{key:"handleInput5",value:function(e){var t=this;this.setState({gender:e.target.value},(function(){t.validateGender()}))}},{key:"handleInput6",value:function(e){var t=this;this.setState({job_role:e.target.value},(function(){t.validateJobRole()}))}},{key:"handleInput7",value:function(e){var t=this;this.setState({department:e.target.value},(function(){t.validateDepartment()}))}},{key:"handleInput8",value:function(e){var t=this;this.setState({address:e.target.value},(function(){t.validateAddress()}))}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return E()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"na"},r.a.createElement(I,null),r.a.createElement(w.a,{className:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:x.paper},r.a.createElement("div",{className:"icon"},r.a.createElement("p",{style:P},this.state.serverError),r.a.createElement(f.a,{className:x.avatar,id:"icon"},r.a.createElement(j.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",id:"account"},"Sign Up")),r.a.createElement("form",{ref:function(t){return e.formRef=t},onSubmit:this.handleSubmit,className:x.form,noValidate:!0},r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"first_name",label:"FirstName",name:"first_name",autoComplete:"first_name",onBlur:this.validateFirstName,onChange:this.handleInput1,autoFocus:!0}),r.a.createElement("p",{style:P},this.state.first_nameError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"last_name",name:"last_name",label:"LastName",type:"last_name",onBlur:this.validateLastName,onChange:this.handleInput2}),r.a.createElement("p",{style:P},this.state.last_nameError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",onBlur:this.validateEmail,onChange:this.handleInput3}),r.a.createElement("p",{style:P},this.state.emailError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",onBlur:this.validatePassword,onChange:this.handleInput4,autoComplete:"password"}),r.a.createElement("p",{style:P},this.state.passwordError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"gender",label:"Gender",name:"gender",onBlur:this.validateGender,autoComplete:"gender",onChange:this.handleInput5}),r.a.createElement("p",{style:P},this.state.genderError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"job_role",label:"JobRole",name:"job_role",autoComplete:"job_role",onBlur:this.validateJobRole,onChange:this.handleInput6}),r.a.createElement("p",{style:P},this.state.job_roleError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"department",label:"Department",name:"department",autoComplete:"department",onBlur:this.validateDepartment,onChange:this.handleInput7}),r.a.createElement("p",{style:P},this.state.departmentError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address",label:"Address",name:"address",onBlur:this.validateAddress,onChange:this.handleInput8,autoComplete:"address"}),r.a.createElement("p",{style:P},this.state.addressError),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:x.submit},"Sign In"))),r.a.createElement(C.a,{mt:8},r.a.createElement(_,null))))}}]),t}(r.a.Component),P={color:"red"},A=D,F=a(84),W=a.n(F),B=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeFile=function(e){a.setState({image:e.target.image[0]}),a.setState({image:e.target.files[0]})},a.handleSubmit=function(e,t){e.preventDefault();var n=new Headers({"Content-Type":"multipart/form-data",token:a.getToken(),mode:"no-cors"}),r=new W.a;return r.append("title",a.state.title),r.append("file",a.state.image),fetch("https://teamwork-platform.herokuapp.com/api/v1/gifts",{method:"POST",body:{formData:r},headers:n,"content-type":"multipart/form-data",token:a.getToken()})},a.state={title:"",image:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.onChangeFile=a.onChangeFile.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState({title:e.target.value})}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"render",value:function(){return r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:B.paper},r.a.createElement(f.a,{className:B.avatar},r.a.createElement(j.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:B.form,noValidate:!0},r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Gift Title",name:"title",autoComplete:"title",onChange:this.handleChange,autoFocus:!0}),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"file",name:"image",onChange:this.onChangeFile}),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:B.submit},"Upload"))))}}]),t}(r.a.Component),L=a(162),M=(a(79),function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",{className:"toolbar__logo",style:G},r.a.createElement("a",{href:"/"},"TEAM WORK")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar_navigation-items"})))}),G={fontSize:"auto"};function U(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center",id:"copyright"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"Team Work")," ",(new Date).getFullYear(),".")}var Y=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleEmail=function(e){a.setState({email:e.target.value},(function(){a.validateEmail()}))},a.handlePassword=function(e){a.setState({password:e.target.value},(function(){a.validatePassword()}))},a.validateEmail=function(){var e=a.state.email;""===e?a.setState({emailError:"Email cannot be empty"}):""!==e&&a.setState({emailError:""})},a.validatePassword=function(){var e=a.state.password;""===e&&e.length<4?a.setState({passwordError:"Password cannot be empty"}):""!==e&&a.setState({passwordError:""})},a.handleSubmit=function(e){a.setState({email:"",password:""}),fetch("https://teamwork-platform.herokuapp.com/api/v1/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email,password:a.state.password})}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(localStorage.setItem("token",e.data.token),localStorage.setItem("user_id",e.data.user_id),localStorage.getItem("token"),localStorage.getItem("user_id"),localStorage.getItem("token"),a.props.history.push("/articles")):"error"===e.status&&(a.setState({serverError:e.error}),console.log(e.error))})),e.preventDefault(),a.formRef.reset()},a.state={email:"",password:"",emailError:"",passwordError:"",serverError:""},a.handleEmail=a.handleEmail.bind(Object(p.a)(a)),a.handlePassword=a.handlePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.loggedIn=a.loggedIn.bind(Object(p.a)(a)),a.isTokenExpired=a.isTokenExpired.bind(Object(p.a)(a)),a.validateEmail=a.validateEmail.bind(Object(p.a)(a)),a.validatePassword=a.validatePassword.bind(Object(p.a)(a)),a.formRef=null,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getToken",value:function(){return localStorage.getItem("token","user_id")}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return E()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"componentDidMount",value:function(){this.loggedIn()?this.props.history.push("/articles"):this.loggedIn()||this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(w.a,{className:"main",maxWidth:"xs"},r.a.createElement("div",{className:Y.paper},r.a.createElement("div",{className:"icon"},r.a.createElement(f.a,{className:Y.avatar,id:"icon"},r.a.createElement(j.a,null)),r.a.createElement(S.a,{className:"h1",variant:"h5"},"Login In")),r.a.createElement("form",{ref:function(t){return e.formRef=t},onSubmit:this.handleSubmit,className:Y.form,noValidate:!0},r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onBlur:this.validateEmail,onChange:this.handleEmail,autoFocus:!0}),r.a.createElement("p",{style:H},this.state.emailError),r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onBlur:this.validatePassword,onChange:this.handlePassword,autoComplete:"current-password"}),r.a.createElement("p",{style:H},this.state.passwordError),r.a.createElement("p",{style:H},this.state.serverError),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:Y.submit,id:"submit"},"Sign In"),r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(y.a,{href:"#",variant:"body2"},"Forgot password?"))))),r.a.createElement(C.a,{mt:8},r.a.createElement(U,null))))}}]),t}(r.a.Component),H={color:"red"},J=q,K=a(9),V=(a(80),a(81),Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),z={fontSize:100},Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeTitle=function(e){a.setState({title:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=new Headers({"Content-type":"application/json",token:a.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/articles",{headers:t,method:"POST",body:JSON.stringify({title:a.state.title,article:a.state.article})}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(console.log(e.data.title),a.props.history.push("/articles")):"error"===e.status&&console.log(e.error)}))},a.state={title:"",article:""},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.onChangeArticle=a.onChangeArticle.bind(Object(p.a)(a)),a.handleChangeTitle=a.onChangeTitle.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.loggedIn=a.loggedIn.bind(Object(p.a)(a)),a.isTokenExpired=a.isTokenExpired.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onChangeArticle",value:function(e){this.setState({article:e.target.value}),console.log("hiiiii")}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return E()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"componentDidMount",value:function(){this.loggedIn()?this.props.history.push("/post-article"):this.loggedIn()||this.props.history.push("/")}},{key:"render",value:function(){var e;return r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:V.paper},r.a.createElement(f.a,{className:V.avatar},r.a.createElement(j.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"POST ARTICLES"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:V.form,noValidate:!0},r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Article Title",name:"title",autoComplete:"title",onChange:this.onChangeTitle,autoFocus:!0}),r.a.createElement(k.a,(e={required:!0,fullWidth:!0,id:"title",label:"Article Title",name:"title",autoComplete:"title",onChange:this.onChangeArticle,variant:"outlined",margin:"normal"},Object(K.a)(e,"required",!0),Object(K.a)(e,"type","textarea"),Object(K.a)(e,"label","Write Article"),Object(K.a)(e,"inputProps",z),Object(K.a)(e,"rows",6),Object(K.a)(e,"col","40"),Object(K.a)(e,"icon","icon_prefix"),Object(K.a)(e,"onChange",this.onChangeArticle),e)),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:V.submit},"Upload"))))}}]),t}(r.a.Component),X=a(31),Z=a(88),$=a(169),ee=a(37),te=a.n(ee);function ae(){var e=r.a.useState(null),t=Object(X.a)(e,2),a=t[0],n=t[1],o=function(){n(null)};return r.a.createElement("div",null,r.a.createElement(b.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(te.a,null)),r.a.createElement(Z.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},r.a.createElement($.a,{onClick:o}," ",r.a.createElement(l.c,{to:"/"},"ARTICLES")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"gifts"},"GIFTS")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"#"},"GIFTS")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"#"},"FEEDS"))))}a(108);var ne=function(){return localStorage.removeItem("token")},re=function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",{className:"toolbar__logo"},r.a.createElement("a",{href:"/"},"TEAM WORK")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar__toggle-button"},r.a.createElement(ae,null)),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/"},"ARTICLES")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/gifts"},"GIFTS")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/"},"FEEDS")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/",onClick:ne},"Logout"))))))},oe=a(124),ie=Object(O.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(K.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function le(e){var t=ie(),a=e.post;return r.a.createElement(oe.a,{className:t.mainFeaturedPost,style:{backgroundImage:"url(".concat(a.image,")")}},r.a.createElement("img",{style:{display:"none"},src:a.image,alt:a.imageText}),r.a.createElement("div",{className:t.overlay}),r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,md:6},r.a.createElement("div",{className:t.mainFeaturedPostContent},r.a.createElement(S.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},a.title),r.a.createElement(S.a,{variant:"h5",color:"inherit",paragraph:!0},a.description),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,id:"submit"},r.a.createElement(l.c,{to:"/post-article",style:ce},a.linkText))))))}var ce={color:"white"},se=a(164),me=a(163),ue=a(165),de=a(67),pe=a.n(de),he=50,ge=Object(O.a)({card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160}});function Ee(e){var t=ge(),a=e.post;return r.a.createElement(L.a,{item:!0,xs:12,md:6},r.a.createElement("main",{className:t.card,id:"card"},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(l.c,{to:"/articlesby/".concat(a.article_id)},r.a.createElement(S.a,{component:"h2",variant:"h5",id:"h2"},a.title)),r.a.createElement(S.a,{variant:"subtitle1",color:"textSecondary",id:"date"},pe()("".concat(a.created_on)).format("MMMM Do YYYY")))),r.a.createElement(me.a,null,r.a.createElement(se.a,{className:t.card,id:"maincard"},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(ue.a,null,r.a.createElement(S.a,{component:"h2",variant:"h5",id:"card"},a.title),r.a.createElement(S.a,{style:fe,variant:"subtitle1",color:"textSecondary"},pe()("".concat(a.created_on)).format("MMMM Do YYYY")),r.a.createElement("div",null,a.article.length>he?r.a.createElement(S.a,{variant:"subtitle1",paragraph:!0,id:"article"},"".concat(a.article.substring(0,he),"...")," ",r.a.createElement(l.c,{to:"/articlesby/".concat(a.article_id)},"Continue reading...")):r.a.createElement("p",null,a.article)))))))}var fe={color:"white"};a(110);function be(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"/articles"},"TEAM WORK")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"ABOUT")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"CONTACT")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"HELP")," ",(new Date).getFullYear(),".")}var ve=Object(O.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0)}}}));function ke(e){var t=ve(),a=e.description,n=e.title;return r.a.createElement("footer",{className:t.footer},r.a.createElement(w.a,{maxWidth:"lg"},r.a.createElement(S.a,{variant:"h6",align:"center",gutterBottom:!0},n),r.a.createElement(S.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},a),r.a.createElement(be,null)))}function ye(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center",id:"copyright"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"Team Work")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"ABOUT US")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"CONTACT")," ",(new Date).getFullYear(),".")}var Ce={title:"View All Articles Posted In This Trend",description:"You Can Also Post Article Of Your Choices by Clicking The Button Below",image:"https://source.unsplash.com/random",imgText:"main image description",linkText:"Post Article"},Te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={article:[],isLoading:!1},a.getUser=a.getUser.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.loggedIn=a.loggedIn.bind(Object(p.a)(a)),a.isTokenExpired=a.isTokenExpired.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return E()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"componentDidMount",value:function(){this.loggedIn()?this.props.history.push("/articles"):this.loggedIn()||this.props.history.push("/"),this.getUser()}},{key:"getUser",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/articles",{headers:t,method:"GET"}).then((function(e){return e.json()})).then((function(t){"success"===t.status?(e.setState({article:t.data.rows}),e.setState({isLoading:!0}),console.log(t.data.rows)):"error"===t.status&&(console.log(t.error),e.props.history.push("/"))}))}},{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(re,null),r.a.createElement(w.a,{maxWidth:"lg"},r.a.createElement("main",{className:"main"},r.a.createElement(le,{post:Ce}),r.a.createElement(L.a,{container:!0,spacing:4},this.state.article.map((function(e){return r.a.createElement(Ee,{key:e.title,post:e})})))),r.a.createElement(C.a,{mt:8},r.a.createElement(ye,null))),r.a.createElement(ke,null))}}]),t}(r.a.Component);function je(){var e=r.a.useState(null),t=Object(X.a)(e,2),a=t[0],n=t[1],o=function(){n(null)};return r.a.createElement("div",null,r.a.createElement(b.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(te.a,null)),r.a.createElement(Z.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},r.a.createElement($.a,{onClick:o}," ",r.a.createElement(l.c,{to:"/post-article"},"POST ARTICLE")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"/articles"},"ARTICLES"))))}a(111);var Se=function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",{className:"toolbar__logo"},r.a.createElement("a",{href:"/"},"TEAM WORK")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar__toggle-button"},r.a.createElement(je,null)),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/post-article"},"POST ARTICLE")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/"},"ARTICLES"))))))},Oe=(a(112),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={article:[],error:"",comment:[],comments:[],name:""},a.fetchBlogPost=a.fetchBlogPost.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.getToken2=a.getToken2.bind(Object(p.a)(a)),a.deleteData=a.deleteData.bind(Object(p.a)(a)),a.addComment=a.addComment.bind(Object(p.a)(a)),a.getComment=a.getComment.bind(Object(p.a)(a)),a.onChangeComment=a.onChangeComment.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"getToken2",value:function(){return localStorage.getItem("user_id")}},{key:"fetchBlogPost",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});return fetch("https://teamwork-platform.herokuapp.com/api/v1/articles/"+this.props.match.params.article_id,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.status?e.setState({article:t.data.rows[0]}):"error"===t.status&&(console.log(t.error),e.props.history.push("/"))}))}},{key:"deleteData",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-project.herokuapp.com/api/v1/articles/"+this.props.match.params.article_id,{method:"DELETE",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.status?e.props.history.push("/articles"):"error"===t.status&&(e.setState({error:"Not Allow To Delete Someones Post"}),console.log("Not Allow"))}))}},{key:"componentDidMount",value:function(){this.fetchBlogPost(),this.getComment()}},{key:"componentDidUpdate",value:function(){this.getComment()}},{key:"onChangeComment",value:function(e){this.setState({comment:e.target.value})}},{key:"addComment",value:function(e){var t=this;e.preventDefault();var a=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-project.herokuapp.com/api/v1/articles/".concat(this.props.match.params.article_id,"/comment"),{headers:a,method:"POST",body:JSON.stringify({comment:this.state.comment})}).then((function(e){return e.json()})).then((function(e){"Success"===e.status?t.setState({comment:e.data.comment}):"error"===e.status&&console.log(e.error)}))}},{key:"getComment",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-project.herokuapp.com/api/v1/articles/".concat(this.props.match.params.article_id,"/comment"),{headers:t,method:"GET"}).then((function(e){return e.json()})).then((function(t){"Success"===t.status?e.setState({comments:t.data.comment}):"error"===t.status&&console.log(t.error)}))}},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(Se,null),r.a.createElement("div",{className:"container"},r.a.createElement(S.a,{component:"h2",variant:"h1",id:"title"},this.state.article.title),r.a.createElement("div",{className:"Box-2",id:"image"}),r.a.createElement("div",{className:"Box-3",id:"articles"},this.state.article.article,r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",id:"submit"},r.a.createElement(l.c,{to:"/articleEdit/".concat(this.state.article.article_id)},"Edit")),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",id:"submit",onClick:this.deleteData},"DELETE"),r.a.createElement(S.a,null,this.state.error)),r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement(k.a,{id:"filled-basic",label:"comments",variant:"filled",onChange:this.onChangeComment}),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary"},"Add Comment")),this.state.comments.map((function(e){return r.a.createElement("div",{key:e.comment_id},r.a.createElement("div",{className:"showcomment"},r.a.createElement("p",null,r.a.createElement("span",{id:"style"},"T"),r.a.createElement("span",{id:"maincomment"},e.comment))))}))))}}]),t}(r.a.Component)),we=a(89),Ie=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ne=(a(117),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={title:"",article:"",error:""},a.onChangeTitle=a.onChangeTitle.bind(Object(p.a)(a)),a.onChangeArticle=a.onChangeArticle.bind(Object(p.a)(a)),a.onSubmit=a.onSubmit.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"componentDidMount",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/articles/"+this.props.match.params.article_id,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.status?(e.setState({title:t.data.rows[0].title,article:t.data.rows[0].article}),console.log(t.data.rows)):"error"===t.status&&(console.log(t.error),e.props.history.push("/"))}))}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeArticle",value:function(e){this.setState({article:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=new Headers({"Content-type":"application/json",token:this.getToken()}),n={title:this.state.title,article:this.state.article};return fetch("https://teamwork-platform.herokuapp.com/api/v1/articles/"+this.props.match.params.article_id,{headers:a,method:"PATCH",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){"success"===e.status?t.props.history.push("/articles"):"error"===e.status&&t.setState({error:"Not Allow To Edit Someones Post"})}))}},{key:"render",value:function(){return r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:Ie.paper},r.a.createElement(f.a,{className:Ie.avatar},r.a.createElement(j.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"POST ARTICLES"),r.a.createElement("form",{onSubmit:this.onSubmit,className:Ie.form,noValidate:!0},r.a.createElement(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",name:"title",autoComplete:"title",value:this.state.title,onChange:this.onChangeTitle,autoFocus:!0}),r.a.createElement(we.e,{variant:"outlined",margin:"normal",required:!0,type:"textarea",id:"title2",rows:6,col:"40",icon:"icon_prefix",value:this.state.article,onChange:this.onChangeArticle}),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:Ie.submit},"POST"),r.a.createElement(S.a,null,this.state.error))))}}]),t}(n.Component));function _e(){var e=r.a.useState(null),t=Object(X.a)(e,2),a=t[0],n=t[1],o=function(){n(null)};return r.a.createElement("div",null,r.a.createElement(b.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(te.a,null)),r.a.createElement(Z.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},r.a.createElement($.a,{onClick:o}," ",r.a.createElement(l.c,{to:"/"},"ARTICLES")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"gifts"},"GIFTS")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"#"},"FEEDS"))))}a(118);var xe=function(){return localStorage.removeItem("token")},De=function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",{className:"toolbar__logo"},r.a.createElement("a",{href:"/"},"TEAM WORK")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar__toggle-button"},r.a.createElement(_e,null)),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/gifts"},"GIFTS")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/articles"},"ARTICLES")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/"},"FEEDS")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/",onClick:xe},"Logout"))))))},Pe=Object(O.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(K.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function Ae(e){var t=Pe(),a=e.post;return r.a.createElement(oe.a,{className:t.mainFeaturedPost,style:{backgroundImage:"url(".concat(a.image,")")}},r.a.createElement("img",{style:{display:"none"},src:a.image,alt:a.imageText}),r.a.createElement("div",{className:t.overlay}),r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,md:6},r.a.createElement("div",{className:t.mainFeaturedPostContent},r.a.createElement(S.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},a.title),r.a.createElement(S.a,{variant:"h5",color:"inherit",paragraph:!0},a.description),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,id:"submit"},r.a.createElement(l.c,{to:"/post-gift",style:Fe},a.linkText))))))}var Fe={color:"white"},We=(a(82),Object(O.a)({card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160}}));function Be(e){var t=We(),a=e.post;return r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement("main",{className:t.card,id:"card"},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(l.c,{to:"/giftsby/".concat(a.gift_id)},r.a.createElement(S.a,{component:"h2",variant:"h5",id:"h2"},a.title)),r.a.createElement(S.a,{variant:"subtitle1",color:"textSecondary",id:"date"},a.created_on),r.a.createElement("div",{id:"gifts"},r.a.createElement(l.c,{to:"/giftsby/".concat(a.gift_id)},r.a.createElement("img",{id:"imgs",src:a.image_url,alt:"Something went wrong"}))))))}function Re(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center",id:"copyright"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"Team Work")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"ABOUT US")," ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"CONTACT")," ",(new Date).getFullYear(),".")}var Le={title:"View All Articles Posted In This Trend",description:"You Can Also Post Article Of Your Choices by Clicking The Button Below",image:"https://source.unsplash.com/random",imgText:"main image description",linkText:"Post Gift"},Me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={gifts:[],isLoading:!1},a.getUser=a.getUser.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.loggedIn=a.loggedIn.bind(Object(p.a)(a)),a.isTokenExpired=a.isTokenExpired.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return E()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"componentDidMount",value:function(){this.loggedIn()?this.props.history.push("/gifts"):this.loggedIn()||this.props.history.push("/"),this.getUser()}},{key:"getUser",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/gifts",{headers:t,method:"GET"}).then((function(e){return e.json()})).then((function(t){"success"===t.status?(e.setState({gifts:t.data}),e.setState({isLoading:!0}),console.log(t.data)):"error"===t.status&&(console.log(t.error),e.props.history.push("/"))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(De,null),r.a.createElement(w.a,{maxWidth:"lg"},r.a.createElement("main",{className:"main"},r.a.createElement(Ae,{post:Le}),r.a.createElement(L.a,{container:!0,spacing:4},this.state.gifts.map((function(e){return r.a.createElement(Be,{key:e.title,post:e})})))),r.a.createElement(C.a,{mt:8},r.a.createElement(Re,null))))}}]),t}(r.a.Component);function Ge(){var e=r.a.useState(null),t=Object(X.a)(e,2),a=t[0],n=t[1],o=function(){n(null)};return r.a.createElement("div",null,r.a.createElement(b.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(te.a,null)),r.a.createElement(Z.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},r.a.createElement($.a,{onClick:o}," ",r.a.createElement(l.c,{to:"/post-gift"},"POST GIFTS")),r.a.createElement($.a,{onClick:o},r.a.createElement(l.c,{to:"/gifts"},"GIFTS"))))}a(119);var Ue=function(e){return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar__navigation"},r.a.createElement("div",{className:"toolbar__logo"},r.a.createElement("a",{href:"/"},"TEAM WORK")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar__toggle-button"},r.a.createElement(Ge,null)),r.a.createElement("div",{className:"toolbar_navigation-items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/post-gift"},"POST GIFT")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/gifts"},"GIFTS"))))))},Ye=(a(120),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={gift:[],error:"",comment:[],comments:[],name:""},a.fetchBlogPost=a.fetchBlogPost.bind(Object(p.a)(a)),a.getToken=a.getToken.bind(Object(p.a)(a)),a.getToken2=a.getToken2.bind(Object(p.a)(a)),a.deleteData=a.deleteData.bind(Object(p.a)(a)),a.addComment=a.addComment.bind(Object(p.a)(a)),a.getComment=a.getComment.bind(Object(p.a)(a)),a.onChangeComment=a.onChangeComment.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"getToken2",value:function(){return localStorage.getItem("user_id")}},{key:"fetchBlogPost",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});return fetch("https://teamwork-platform.herokuapp.com/api/v1/gifts/"+this.props.match.params.gift_id,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.status?e.setState({gift:t.data.rows[0]}):"error"===t.status&&(console.log(t.error),e.props.history.push("/"))}))}},{key:"deleteData",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/gifts/"+this.props.match.params.gift_id,{method:"DELETE",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.status?e.props.history.push("/gifts"):"error"===t.status&&(e.setState({error:"Not Allow To Delete Someones Post"}),console.log("Not Allow"))}))}},{key:"componentDidMount",value:function(){this.fetchBlogPost(),this.getComment()}},{key:"componentDidUpdate",value:function(){this.getComment()}},{key:"onChangeComment",value:function(e){this.setState({comment:e.target.value})}},{key:"addComment",value:function(e){var t=this;e.preventDefault();var a=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/gifts/".concat(this.props.match.params.gift_id,"/comment"),{headers:a,method:"POST",body:JSON.stringify({comment:this.state.comment})}).then((function(e){return e.json()})).then((function(e){"Success"===e.status?t.setState({comment:e.data.comment}):"error"===e.status&&console.log(e.error)}))}},{key:"getComment",value:function(){var e=this,t=new Headers({"Content-type":"application/json",token:this.getToken()});fetch("https://teamwork-platform.herokuapp.com/api/v1/gifts/".concat(this.props.match.params.gift_id,"/comment"),{headers:t,method:"GET"}).then((function(e){return e.json()})).then((function(t){"Success"===t.status?e.setState({comments:t.data.comment}):"error"===t.status&&console.log(t.error)}))}},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(Ue,null),r.a.createElement("div",{className:"container"},r.a.createElement(S.a,{component:"h2",variant:"h1",id:"title"},this.state.gift.title),r.a.createElement("div",{id:"gift"},r.a.createElement("img",{id:"img",src:this.state.gift.image_url,alt:"Something is wrong Please reload"})),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",id:"submitform",onClick:this.deleteData},"DELETE"),r.a.createElement(S.a,null,this.state.error),r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement(k.a,{id:"filled-basic",label:"comments",variant:"filled",onChange:this.onChangeComment}),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary"},"Add Comment")),this.state.comments.map((function(e){return r.a.createElement("div",{key:e.comment_id},r.a.createElement("div",{className:"showcomment"},r.a.createElement("p",null,r.a.createElement("span",{id:"styles"},"T"),r.a.createElement("span",{id:"maincomments"},e.comment))))}))))}}]),t}(r.a.Component)),qe=(a(121),r.a.createElement(l.b,{basename:"/"},r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{path:"/signup",component:A}),r.a.createElement(c.a,{exact:!0,path:"/",component:J}),r.a.createElement(c.a,{path:"/post-article",component:Q}),r.a.createElement(c.a,{path:"/articles",component:Te}),r.a.createElement(c.a,{path:"/articlesby/:article_id",component:Oe}),r.a.createElement(c.a,{path:"/articleEdit/:article_id",component:Ne}),r.a.createElement(c.a,{path:"/post-gift",component:R}),r.a.createElement(c.a,{path:"/gifts",component:Me}),r.a.createElement(c.a,{path:"/giftsby/:gift_id",component:Ye})))));i.a.render(qe,document.getElementById("root"))},62:function(e,t,a){},79:function(e,t,a){},82:function(e,t,a){},96:function(e,t,a){e.exports=a(122)}},[[96,1,2]]]);
//# sourceMappingURL=main.6365fcca.chunk.js.map